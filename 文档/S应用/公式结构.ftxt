### 节点
地址, 的, 公式结构, 目录, 的, 的, 操作, 的, 想法, 的, 测试场景, 的, 描述, 的, 库, 的, 创建函数, 的, 匹配模板, 的, 转述, 的, P代码, 的, f, 的, 的, 输入, 的, 的, 的, 的, 的, y, 的, x, 的, 的, 设置输入, 的, 匹配模板, 的, 输出模板, 的, 设置函数1, 的, 匹配模板, 的, 转述, 的, P代码, 的, 显示坐标分布, 的, 匹配模板, 的, 输出模板, 的, 显示曲线, 的, 匹配模板, 的, 输出模板, 输出模板, 匹配模板, 的, 的, 显示等高线, 的, 的, 测试推导, 的, 结构, 的, 方程式, 公式, 的, 公式头_del, 的, 初始表达式, 的, 加括号_项, 的, 结构转换, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 的, 公式代入, 的, 匹配模板, 的, 输出模板, 公式结构, 公式结构, 公式结构, 公式结构, 的, 网页画板, 的, 公式分析器, 公式结构, 公式结构, 公式结构, 公式结构, 结构转换, 的, 公式代换, 的, 场景, 场景, 场景, 的, 乘式, 场景, 场景, 场景, 场景, 场景, 的, 乘式, 场景, 场景, 的, 头部, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 变量, 的, 提取系数, 的, 匹配模板, 的, 输出模板, 场景, 的, 变量, 括号, 场景, 的, 变量, 结构转换, 的, 乘除交换, 的, 结构转换, 的, 系数结构转换, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 结构转换, 的, 整理常系数, 的, 项, 场景, 的, *, 场景, 的, 变量, 括号, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 变量, 场景, 场景, 场景, 的, 变量, 括号, 场景, 场景, 的, 变量, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 结构转换, 的, 正负交换, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 结构转数值, 场景, 场景, 场景, 场景, 的, 删除运算单元, 的, 剔除运算单元, 的, 结构转换, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 删除式子, 的, 删除变量, 场景, 场景, 场景, 场景, 场景, 删除项, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, +, 场景, 场景, 场景, 的, +, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 结构转换, 的, 整理分式, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 结构转换, 的, 除以, 的, 场景, 场景, 场景, 场景, 场景, 公式结构, 场景, 公式结构, 场景, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 场景, 公式结构, 场景, 公式结构, 场景, 公式结构, 场景, 公式结构, 场景, 公式结构, 场景, 公式结构, 场景, 结构转换, 的, 整理常数项, 的, 的, 乘除表达式, 场景, 的, 节点数目统计, 20211228, 的, 场景, 场景, 场景, 场景, 场景, 场景, 的, 的, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 的, 的, 的, 的, 的, 的, 的, 场景, 场景, 的, 的, 的, 的, 的, 的, 的, 场景, 场景, 的, 的, 的, 的, 的, 的, 的, 结构转换, 的, 配分运算, 的, 场景, 场景, 场景, 的, 的, 的, 的, 的, 的, 的, 场景, 场景, 的, 的, 的, 的, 的, 的, 的, 场景, 场景, 场景, 场景, 场景, 结构转换, 的, 加上, 的, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 场景, 的, 记住, 场景, 场景, 场景, 的, 记住, 场景, 场景, 场景, 的, 记住, 场景, 场景, 场景, 的, 记住, 场景, 场景, 场景, 20211229, 的, 20211231, 的, 结构转换, 的, 减去, 的, 结构转换, 的, 等式倒数, 的, 的, 项运算2, 的, 匹配模板, 的, 输出模板, 的, 式子删除, 的, 匹配模板, 的, 输出模板, 输出模板, 匹配模板, 的, 的, 拆括号, 的, 匹配模板, 输出模板, 的, 的, 式子运算, 的, 结构转换, 的, 乘以, 的, 的, 参考, 输出模板, 匹配模板, 的, 的, 等式交换, 的, 匹配模板, 输出模板, 的, 的, 等式倒数, 的, 20220101, 的, 输出模板, 匹配模板, 的, 的, 项删除, 的, 输出模板, 匹配模板, 的, 的, 配分运算2, 的, 输出模板, 匹配模板, 的, 的, 项运算, 的, 匹配模板, 输出模板, 的, 的, 整理系数3, 的, 20220105, 的, 20220108, 的, 的, 存档, 的, 整理系数, 的, 结构转换, 20220109, 的, 存档, 的, 结构转换, 的, 拆括号, 的, 存档, 的, 结构转换, 的, 加括号_系数, 的, 输出模板, 匹配模板, 的, 的, 整理系数, 的, 匹配模板, 输出模板, 的, 的, 加括号, 的, 输出模板, 匹配模板, 的, 的, 整理系数2, 的, 输出模板, 匹配模板, 的, 的, 配分运算, 的, 20220114, 的, 20220115, 的, 和式, 的, 测试新名词, 结构转换, 的, 公式代入2, 的, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式结构, 公式分析器, 20220124, 的, 的, 记忆, 的, 的, 句子库, 的, 20220125, 的, P代码, 的, 转述, 匹配模板, 的, 的, 计算函数, 的, 20220126, 的, 的, 保存算式2, 20220202, 的, 的, 输出模板, 的, 匹配模板, 的, 新建公式, 的, [1]., 表达式, 的, [1]., 表达式, 的, 公式, 公式结构, 的, [2]., 表达式, 的, 公式, 的, 载入算式, 的, 匹配模板, 的, 输出模板, 公式结构, 公式结构, 的, 代入算式2, 的, 匹配模板, 的, 输出模板, 公式结构, 公式结构, 公式结构, 公式结构, 的, [3]., 的, [3]., 表达式, 的, 公式, 公式结构, 公式结构, 20220204, 的, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 输入文本, 起点, 的, 起点, 的, 起点, 的, 起点, 的, 的, 快捷键, 的, ctrl+Up, 的, ctrl+Down, 20220206, 的, 的, 请求Nini, 的, 匹配模板, 的, 输出模板, 的, 更新算式, 的, 匹配模板, 的, 输出模板, 的, 交换算式, 的, 匹配模板, 的, 输出模板, 20220217, 的, 20220219, 的, 输出模板, 匹配模板, 的, 的, 代入算式, 的, 20220220, 的, 结构转换, 的, 公式代入, 的, 的, P代码, P函数, 匹配模板, 输出模板, 的, 的, 保存算式3, 的, 的, 复制算式, 的, 匹配模板, 的, 输出模板, 输出模板, 匹配模板, 的, 的, 保存算式, 的, 20220222, 的, 20220225, 的, 20220305, 的, 20220317, 的, 的, 配分法拆括号, 20220424, 的, 20220713, 的, 20220714, 的, 
### 关联
#, 2#0, #, #, 3#2, 2#6, #, 2#8, #, 2#10, #, 6#12, #, 12#14, #, 14#16, #, 16#18, #, 16#20, #, 20#22, #, 10#24, #, 10#27, 10#28, #, 24#27, 10#33, 10#34, 10#35, 10#36, #, 27#33, #, 27#35, 14#38, #, 38#40, #, 38#42, #, 14#44, #, 44#46, #, 44#48, #, 48#50, #, 14#52, #, 52#54, #, 52#56, #, 14#58, #, 58#60, #, 58#62, #, #, #, 67#63, 67#64, #, 14#67, 2#70, #, 70#72, #, 70#74, #, 74#, 8#77, #, 70#79, #, 6#81, #, 81#83, #, #, #, #, #, #, #, #, #, #, #, 14#95, #, 95#97, #, 95#99, #, #, #, #, #, 2#105, #, 2#107, #, #, #, #, #, #, 114#112, #, 6#114, #, #, #, 118#120, #, #, #, #, #, #, 125#127, #, #, #, 129#131, #, #, #, #, #, #, #, #, #, #, #, 141#143, #, 14#145, #, 145#147, #, 145#149, #, #, 150#152, #, #, #, 154#156, #, #, 159#157, #, 6#159, #, 163#161, #, 6#163, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 181#179, #, 6#181, #153, #, 184#186, #153, #, 187#189, #, #, #, #, #, #, #, #, #, #, #, 199#201, #, #, #, #, 204#206, #, #, #, #, 209#211, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 268#266, #, 6#268, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 6#289, #, #, #, #, #, 6#295, #, 6#297, #, 297#299, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 6#314, #, 6#316, #, #, #, #, #, #, #, 6#322, #, #, #, #, #, #, #, #, #, 332#334, #, #, #, #, 337#339, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 371#369, #, 6#371, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 388#386, #, 6#388, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 420#418, #, 6#420, 6#423, #, #, 3#426, #, #, 426#427, #, #, #, #, #, #, 434#, 434#, 434#, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 475#, 475#, 475#, 475#, 475#, 475#, 475#, 475#, #, #, 484#, 484#, 484#, 484#, 484#, 484#, 484#, #, #, 493#, 493#, 493#, 493#, 493#, 493#, 493#, #, 504#502, #, 6#504, #, #, #, 507#, 507#, 507#, 507#, 507#, 507#, 507#, #, #, 516#, 516#, 516#, 516#, 516#, 516#, 516#, #, #, #, #, #, #, 532#530, #, 6#532, #, #, #, #, #, #, #, #, #, #, #, #, #, 546#548, #, #, #, #, 551#553, #, #, #, #, 556#558, #, #, #, #, 561#563, #, #, #, #, #, 426#567, #, 426#569, #, 573#571, #, 6#573, #, 577#575, #, 6#577, 14#580, #, 580#582, #, 580#584, #, 14#586, #, 586#588, #, 586#590, #, #, #, 595#591, 595#592, #, 14#595, #, #, 601#597, 601#598, #, 14#601, #, 605#603, #, 6#605, 6#608, #, #, #, 613#609, 613#610, #, 14#613, #, #, 619#615, 619#616, #, 14#619, #, 426#621, #, #, 627#623, 627#624, #, 14#627, #, #, 633#629, 633#630, #, 14#633, #, #, 639#635, 639#636, #, 14#639, #, #, 645#641, 645#642, #, 14#645, #, 426#647, #, 426#649, 83#652, #, 6#654, #, 654#656, #, #, 426#657, #, 661#659, #, 663#661, #, 6#663, #, 667#665, #, 669#667, #, 6#669, #, #, 675#671, 675#672, #, 14#675, #, #, 681#677, 681#678, #, 14#681, #, #, 687#683, 687#684, #, 14#687, #, #, 693#689, 693#690, #, 14#693, #, 426#695, #, 426#697, #, 70#701, #, #, 704#702, #, 6#704, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, 426#742, 12#745, 3#, 12#748, 12#749, #14, 745#748, #, 426#750, #, 754#752, #, #, 758#754, 758#755, #, 14#758, #, 426#760, 14#763, #, #, 426#764, 763#767, #, 763#769, #, 6#771, #, 70#773, #, #, 70#776, #, #, 776#777, 776#, #, 70#782, #, #, 782#783, 782#, 14#787, #, 787#789, #, 787#791, #, #, #, 14#795, #, 795#797, #, 795#799, #, #, #, #, #, 70#805, #, 70#807, #, #, 807#808, 807#, #, #, #, 426#813, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #, #829, #, #831, #, #833, #, #835, 2#838, #, 838#840, #, 838#842, #, #, 426#843, 14#846, #, 846#848, #, 846#850, #, 14#852, #, 852#854, #, 852#856, #, 14#858, #, 858#860, #, 858#862, #, #, 426#863, #, 426#865, #, #, 871#867, 871#868, #, 14#871, #, 426#873, #, 877#875, #, 6#877, 704#880, #, 880#, #, #, 886#882, 886#883, #, 14#886, 14#889, #, 889#891, #, 889#893, #, #, #, 898#894, 898#895, #, 14#898, #, 426#900, #, 426#902, #, 426#904, #, 426#906, 6#909, #, #, 426#910, #, 426#912, #, 426#914, 
### 内容
#0, 16:
文档\S应用\公式结构.ftxt
## end
#2, 241:
+[返回目录](,公式结构)
地址::文档\S应用\公式结构.ftxt

操作:...
+[设置动词](,操作)
想法:...
+[设置名词](,想法)
快捷键:...
+[设置动作](,快捷键)
+[新建阅读窗口](,操作)

Nini, 打开公式分析器(文件)
Nini, 导入公式分析器的库. Nini, 导入网页画板的库
Nini, 打开透镜波前(文件)


测试场景:...
测试推导:...
+[新建阅读窗口](,测试推导)
+[插入文本]"test"(,测试推导)


## end
#3, 48:
公式结构:...
创建于 20211217

节点数目统计::
+[设置结构](,节点数目统计)
## end
#6, 677:
+[设置结构](,操作)
参考:...


新建公式:...

公式代入:...
公式代换:...
公式代入2:...
公式代入2的"公式代入"替换为"公式代入2"
+[复制结构](,公式代入)->+[粘贴](,操作)->+[修改标题]"公式代入2"(,公式代入)

乘以:...
除以:...
加上:...
减去:...
配分法拆括号:...
等式倒数:...
等式倒数的"乘以"替换为"等式倒数"
+[复制结构](,乘以)->+[粘贴](,操作)->+[修改标题]"等式倒数"(,乘以)


系数结构转换:...
拆括号:...
加括号_系数:...
加括号_项:...
加括号_项的"加括号_系数"替换为"加括号_项"
+[复制结构](,加括号_系数)->+[粘贴](,操作)->+[修改标题]"加括号_项"(,加括号_系数)
+[新建阅读窗口](,拆括号)
正负交换:...
乘除交换:...
整理常数项:...
结构转数值:...
整理常系数:...
整理系数:...
+[新建阅读窗口](,整理系数)
整理分式:...
乘除表达式的"整理常数项"替换为"乘除表达式"
+[复制结构](,整理常数项)->+[粘贴](,操作)->+[修改标题]"整理分式"(,整理常数项)

删除运算单元:...
剔除运算单元:...
删除式子:...
删除项:...
删除变量:...
+[复制结构](,删除项)->+[粘贴](,操作)->+[修改标题]"删除变量"(,删除项)
删除变量的"项"替换为"变量"

描述:...
+[新建阅读窗口](,描述)


## end
#8, 38:

公式头_del:...
+[修改标题]"公式头_del"(,公式头)



## end
#10, 175:
+[显示星图](,测试场景)
记住"Matlab"

f::
创建函数f(x,y)
x=linspace(0,1,10);
y=linspace(0,1,10);
[X,Y]=meshgrid(x,y);


f的x=X
f的y=Y
f(x,y)=exp(-x.^2-y.^2)
显示等高线f(x,y)
显示曲线f(x)
显示曲线f(y)






## end
#12, 528:
"""
+[返回目录](,描述)
库:...
+[新建阅读窗口](,库)
Nini, 公式结构是什么?
将库(节点)记作句子库

"""
+描述(_句子,_结构)->+[del](,+描述)...
->的(描述,库)...
->的(库,_模板)->的(_模板,匹配模板)->[模式匹配](匹配模板,_句子)...
->+[临时文本]->[]{
    []:->的(_模板,转述)->+[做](_句子,+[临时文本])->+[code](+[做],转述)...
    ->+匹配模板(+[做],匹配模板)->+[del](,+匹配模板),
    ->的(_模板,输出模板)->+[显示]"开始转述..."->+[转述](_句子,+[临时文本])...
    ->+匹配模板(+[转述],匹配模板)->+[del](,+匹配模板)...
    ->+输出模板(+[转述],输出模板)->+[del](,+输出模板)
}...

->+[显示]"描述输出..."...
->+[复制内容](,+[临时文本])->+[修改内容](+[临时文本],+[显示]):
    ->_结构->+[修改内容](+[临时文本],_结构),
    ->[]





## end
#14, 1563:


创建函数:创建函数%[f]\(%[句子]\)...
设置输入:%[f]的%[x]=%[句子]...
计算函数:%[f]\(%[句子]\)=%[句子2]...
设置函数1:设置数值: %[f]\(%[句子]\)=%[句子2]...
+[复制结构](,计算函数)->+[粘贴](,库)->+[修改标题]"设置函数1"(,计算函数)
+[复制结构](,设置函数1)

显示等高线:显示等高线%[f]\(%[x],%[y]\)...
显示曲线:显示曲线%[f]\(%[x]\)...
显示坐标分布:...
+[复制结构](,显示等高线)->+[粘贴](,库)->+[修改标题]"显示坐标分布"(,显示等高线)

提取系数:...
项运算:在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[B]"\(%[句子B]\)...
项运算2:在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[句子B]"\(表达式\)...
式子运算:在%[公式]中, "%[A]"\(%[句子A]\)%[运算]式子"%[B]"\(%[句子B]\)...
+[复制结构](,项运算)->+[粘贴](,库)->+[修改标题]"式子运算"(,项运算)

整理系数:在%[公式]中, 整理"%[A]"\(%[句子A]\)的系数...
整理系数2:在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数"%[B]"\(%[句子B]\)...
整理系数3:在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数...
+[复制结构](,整理系数2)->+[粘贴](,库)->+[修改标题]"整理系数3"(,整理系数2)


拆括号:在%[公式]中, 拆"%[A]"\(%[句子A]\)的括号...
加括号:...
+[复制结构](,加括号)->+[粘贴](,库)->+[修改标题]"加括号"(,加括号)

等式交换:在%[公式]中, 交换等式\(%[句子A]\)的两边...
等式倒数:...

配分运算:在%[公式]中, 对"%[A]"\(%[句子A]\)中的括号\(%[句子B]\)做配分运算...
配分运算2:...
+[复制结构](,配分运算)->+[粘贴](,库)->+[修改标题]"配分运算2"(,配分运算)



项删除:在%[公式]中, 删除"%[A]"\(%[句子A]\)...
式子删除:在%[公式]中, 删除式子"%[A]"\(%[句子A]\)...
+[复制结构](,项删除)->+[粘贴](,库)->+[修改标题]"式子删除"(,项删除)


保存算式:将%[结构]记作\(%[序号]\)式...
保存算式2:将\(%[0]\)式记作\(%[序号]\)式...
保存算式3:将"%[句子]"记作\(%[序号]\)式...
+[复制结构](,保存算式)->+[粘贴](,库)->+[修改标题]"保存算式3"(,保存算式)

复制算式:...

载入算式:将\(%[序号]\)式载入到%[结构]中...
公式代入:在%[公式]中, 代入%[句子x]=%[句子]...
代入算式:在%[公式]中, 将\(%[1]\)式代入%[句子x]...
代入算式2:在%[公式]中, 代入\(%[1]\)式...
+[复制结构](,代入算式)->+[粘贴](,库)->+[修改标题]"代入算式2"(,代入算式)


更新算式:更新\(%[序号]\)式...
交换算式:交换\(%[5]\)式和\(%[6]\)式...
+[新建阅读窗口](,保存算式)

请求Nini:Nini, 在%[文件]中, 将%[节点]的\(%[序号]\)式载入到%[结构]中...
+[新建阅读窗口](,请求Nini)





## end
#16, 35:


匹配模板::^创建函数%[f]\(%[句子]\)$
转述:...

## end
#18, 19:
^创建函数%[f]\(%[句子]\)$
## end
#20, 246:
"""
+[返回目录](,转述)
P代码:...
+[新建阅读窗口](,P代码)

"""

+转述(_输入,_输出)->+[del](,+转述)...
->的(转述,P代码)->匹配模板(+转述,_匹配模板)...
->+[python](Python,)->+[code](+[python],P代码)...
->+[.]"pat"(+[python],_匹配模板)->+[.]"sent"(+[python],_输入)...
->+[o]"code"(+[python],_输出)



## end
#22, 397:
"""
+[P函数](,P代码)
记住"Python"
测试(P函数):...

"""

words=re.findall('%(\[[^\[^\]]*\])',pat)
pat=re.sub('%\[[^\[^\]]*\]',r"([\\s\\S]*)",pat)
name=re.search(pat,sent)
fun_name=name.group(1)
inputs=name.group(2).split(',')

code="""{0}:->的({0},输入),->+的({0},+输入);
的({0},输入)""".format(fun_name)

for pt in inputs:
    print(pt)
    code+="""->[]{{
    []:->的(输入,{0})->{0},->+的(输入,+{0})
}}""".format(pt)





## end
#24, 1998:
1.0, 0.9877302162356105, 0.9518167844230893, 0.8948393168143698, 0.8207548082982681, 0.7344436719297311, 0.6411803884299546, 0.5461081359780511, 0.4537887685192294, 0.36787944117144233;
0.9877302162356105, 0.9756109800648459, 0.9401381982949014, 0.8838598318931835, 0.8106843242768653, 0.7254322068880292, 0.6333132437099518, 0.5394075072376265, 0.4482208784547898, 0.3633656399769043;
0.9518167844230893, 0.9401381982949014, 0.9059551911095096, 0.8517230811056075, 0.7812082024342466, 0.699055814156043, 0.6102862555505467, 0.5197948899339158, 0.4319237664592865, 0.35015382675116524;
0.8948393168143698, 0.8838598318931835, 0.8517230811056075, 0.8007374029168081, 0.7344436719297311, 0.6572090736282378, 0.5737534207374327, 0.48867903130536816, 0.4060680315997814, 0.32919298780790557;
0.8207548082982681, 0.8106843242768653, 0.7812082024342466, 0.7344436719297311, 0.6736384553447268, 0.6027981751605626, 0.5262518867904364, 0.4482208784547898, 0.3724493137139072, 0.30193882021554114;
0.7344436719297311, 0.7254322068880292, 0.699055814156043, 0.6572090736282378, 0.6027981751605626, 0.5394075072376265, 0.4709108788478272, 0.40108566465842077, 0.3332822894317336, 0.2701867276014116;
0.6411803884299546, 0.6333132437099518, 0.6102862555505467, 0.5737534207374327, 0.5262518867904364, 0.4709108788478272, 0.41111229050718745, 0.35015382675116524, 0.29096045886431027, 0.2358770829857;
0.5461081359780511, 0.5394075072376265, 0.5197948899339158, 0.48867903130536816, 0.4482208784547898, 0.40108566465842077, 0.35015382675116524, 0.29823409618142155, 0.24781773850381167, 0.20090195588278348;
0.4537887685192294, 0.4482208784547898, 0.4319237664592865, 0.4060680315997814, 0.3724493137139072, 0.3332822894317336, 0.29096045886431027, 0.24781773850381167, 0.20592424643419874, 0.1669395585727311;
0.36787944117144233, 0.3633656399769043, 0.35015382675116524, 0.32919298780790557, 0.30193882021554114, 0.2701867276014116, 0.2358770829857, 0.20090195588278348, 0.1669395585727311, 0.1353352832366127
## end
#33, 1698:
0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0;
0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111;
0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222, 0.2222222222222222;
0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333, 0.3333333333333333;
0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444, 0.4444444444444444;
0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556, 0.5555555555555556;
0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666;
0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778, 0.7777777777777778;
0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888, 0.8888888888888888;
1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0
## end
#35, 1698:
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0;
0.0, 0.1111111111111111, 0.2222222222222222, 0.3333333333333333, 0.4444444444444444, 0.5555555555555556, 0.6666666666666666, 0.7777777777777778, 0.8888888888888888, 1.0
## end
#38, 95:

匹配模板::^%[f]的%[x]=%[句子]$
输出模板::的(%[f],输入)->的(输入,%[x])...
->+[matlab]"ans=%[句子];"(Matlab,%[x])


## end
#40, 17:
^%[f]的%[x]=%[句子]$
## end
#42, 62:
的(%[f],输入)->的(输入,%[x])...
->+[matlab]"ans=%[句子];"(Matlab,%[x])
## end
#44, 44:

匹配模板::^设置数值: %[f]\(%[句子]\)=%[句子2]$
转述:...


## end
#46, 28:
^设置数值: %[f]\(%[句子]\)=%[句子2]$
## end
#48, 246:
"""
+[返回目录](,转述)
P代码:...
+[新建阅读窗口](,P代码)

"""

+转述(_输入,_输出)->+[del](,+转述)...
->的(转述,P代码)->匹配模板(+转述,_匹配模板)...
->+[python](Python,)->+[code](+[python],P代码)...
->+[.]"pat"(+[python],_匹配模板)->+[.]"sent"(+[python],_输入)...
->+[o]"code"(+[python],_输出)



## end
#50, 379:
"""
+[P函数](,P代码)
记住"Python"
测试(P函数):...

"""

words=re.findall('%(\[[^\[^\]]*\])',pat)
pat=re.sub('%\[[^\[^\]]*\]',r"([\\s\\S]*)",pat)
name=re.search(pat,sent)
fun_name=name.group(1)
cond=name.group(2)
exp_str=name.group(3)

code="""的({0},输入)...
->+[matlab]"{0}({1})={2};"(Matlab,)...
->+[o](+[matlab],{0})...
=>的(输入,_x)=>+[.](+[matlab],_x);""".format(fun_name,cond,exp_str)





## end
#52, 190:

匹配模板::^显示坐标%[f]\(%[x],%[y]\)$
输出模板::的(%[f],输入)->的(输入,%[x])->的(输入,%[y])...
->+[matlab]"plot(%[x],%[y],'b.')"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])->+[.](+[matlab],%[y])



## end
#54, 23:
^显示坐标%[f]\(%[x],%[y]\)$
## end
#56, 150:
的(%[f],输入)->的(输入,%[x])->的(输入,%[y])...
->+[matlab]"plot(%[x],%[y],'b.')"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])->+[.](+[matlab],%[y])
## end
#58, 146:

匹配模板::^显示曲线%[f]\(%[x]\)$
输出模板::的(%[f],输入)->的(输入,%[x])...
->+[matlab]"plot(%[x],%[f])"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])



## end
#60, 18:
^显示曲线%[f]\(%[x]\)$
## end
#62, 111:
的(%[f],输入)->的(输入,%[x])...
->+[matlab]"plot(%[x],%[f])"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])
## end
#63, 160:
的(%[f],输入)->的(输入,%[x])->的(输入,%[y])...
->+[matlab]"contourf(%[x],%[y],real(%[f]))"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])->+[.](+[matlab],%[y])
## end
#64, 28:
^显示等高线:? ?%[f]\(%[x],%[y]\)$
## end
#67, 205:

匹配模板::^显示等高线:? ?%[f]\(%[x],%[y]\)$
输出模板::的(%[f],输入)->的(输入,%[x])->的(输入,%[y])...
->+[matlab]"contourf(%[x],%[y],real(%[f]))"(Matlab,)...
->+[.](+[matlab],%[f])->+[.](+[matlab],%[x])->+[.](+[matlab],%[y])



## end
#70, 762:
<!--
Nini, 打开公式分析器(文件)
Nini, 打开公式分析器的句子库(节点)
+[H函数](,测试推导)
初始表达式::(x+y)^2
初始表达式::a^2=a*a
初始表达式(原式)转换为结构(结构). 更新结构的公式起点
结构:->的(结构,起点),->+的(结构,+起点);
[公式头](结构,)->是([公式头],_c)->的(结构,起点)->+[右连](起点,_c)
结构的起点是什么
结构:...
+[新建阅读窗口](,结构)
+[显示星图]"1"(,结构)

在结构中, 代入a=x+y
在结构中, 代入(x+y)^2=(x+y)*(x+y)


测试新名词:...
+[新建阅读窗口](,测试新名词)

方程式(公式):...
结构(结构)转换为方程式(LaTeX)
结构(结构)转换为方程式(表达式)

将结构记作(3)式
将(3)式载入到结构中
在结构中, 代入x=a+b
将(2)式代换为结构中的(x+y)^2
的([2].,表达式)
[3].:
将结构(结构)写入测试推导(Matlab)
(a+(x+(x+y).*(x+y)).^(2)+b).*(a+(x+(x+y).*(x+y)).^(2)+b);
(a+(x+(x+y).*(x+y)).^(2)+b).*(a+(x+(x+y).*(x+y)).^(2)+b);
(a+(x+(x+y).*(x+y)).^(2)+b).*(a+(x+(x+y).*(x+y)).^(2)+b);
+[插入文本]"test"(,测试推导)
记住"Python"记住"Python"记住"Python"
-->

%方程式
%[1].
%[2].
%[3].


<!--
[2].:
+[设置结构](,[1].)
+[H函数](,测试推导)
-->
## end
#72, 660:
+[显示星图]"2"(,结构)
+[转换公式结构](,结构)

+[修改标题]"/"(,*)

x=a+b
+[公式代入]"b+d"(,y)->+场景(+[公式代入],结构)->+[del](,+场景)
在结构中代入, a=a+b


对结构中的括号(的(括号,a)->/(括号,x))项, 以x为变量提取系数
对结构中的a(/(a,x))项, 以x为变量提取系数
对结构中的b(*(b,x)->^(x,2))项, 以x为变量提取系数

b->/(b,_a)->_re"[/*]"(_c,_a){}

->+[显示](,/)

+[结构转数值](5,+[显示])

*(括号#1,括号#2)->+[配分法拆括号](结构,括号#1)...
->+括号(+[配分法拆括号],括号#2)->+[del](,+括号)

*(d,括号)->+[配分法拆括号](结构,d)...
->+括号(+[配分法拆括号],括号)->+[del](,+括号)
+[除以](结构,d)->+表达式"-a*c^2/e"(+[除以],)->+[del](,+表达式)
的(括号,a)->+[删除项](结构,括号)
+[剔除运算单元](结构,1)
+[删除式子](结构,6)
+[整理常系数](结构,括号)
+[整理常数项](结构,1)
+[整理分式](结构,d)
/(3,7)->+[整理分式](结构,3)
+[拆括号](结构,括号)
+[正负交换](结构,b)
的(括号,_a)->+[乘除交换](结构,_a)



+[显示星图]"2"(,结构)
## end
#74, 34:
\left(x+y\right)\ \left(x+y\right)
## end
#77, 273:
"""


"""

+公式头(_算式结构,)->的(_算式结构,_re)...
->_re"\\?[\w_\d.]+"->+是(+公式头,_re){
    []&:=>[is](_re,的#1)->的#1,
        =>[is](_re,负号)->负号,
        =>_re#0"[\^=]|下标"(,_re),
        =>_re#2"[/\-+*]"(,_re),
        =>_re#3"分子|分母"(,_re),
        =>的(_re#1,_re)->_re#1"括号|输入|分式"
}



## end
#79, 7:
(x+y)^2
## end
#81, 294:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+加括号_项(_主场景,_项)->+[del](,+加括号_项)...
->的(加括号_项,结构转换)...

->系数(+加括号_项,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],系数)...
->+[.](+[structure],+项)->+[del](,+项)





## end
#83, 1503:
"""
+[显示](,主场景)
+[显示](,括号)

存档:...

"""
+运行;

# x_1+x_2+x=(x_1+x_2)+x
# -x_1+x_2+x=-(x_1-x_2)+x
+[del](,运行)...
->项(,_项)->的(系数,_项)->+括号{
    []&:=>_re#1"[=]|负号"(_项,)=>+[左连](_re#1,+括号),
        =>_re#2"[=]|起点|分子|分母|项"(,_项)=>+[右连](_re#2,+括号),
        =>_re#3"[\-+]"(_项,_a)...
        =>[]{[]:->的(系数,_a)->负号(_项,)...
            ->[]{[]:->[is](_re#3,-#0)->-#0->+[修改标题]"+"(,-#0),
                    ->[is](_re#3,+#0)->+#0->+[修改标题]"-"(,+#0),->[]},
            ->的(系数,_a),
            ->+[左连](_re#3,+括号)},
        =>的(括号#0,_项)->括号#0=>+[右连](的,+括号)}...
    ->+的(主场景,+括号)->+的#0(+括号,_项)->+的(主场景,+的#0);

# x_1+x_2+x=(x+x_2)+x_1
# x_1+x_2-x=(x_2-x)+x_1
# -x_1+x_2-x=(x_2-x)-x_1
+[del](,运行)...
->项(,_项0)->的(系数,_项1)->+(_项0,_项1)->+括号{
    []&:=>_re#1"[=]"(_项0,)=>+[左连](_re#1,+括号),
        =>_re#2"[=]|起点|分子|分母|项"(,_项0)=>+[右连](_re#2,+括号),
        =>_re#3"[\-+]"(_项0,_a)...
        =>[]{[]:->[is](_a,_项1),
            ->的(系数,_a)->+[左连](_re#3,_项1),
            ->+[左连](_re#3,+括号)},
        =>的(括号#0,_项0)->括号#0=>+[右连](的,+括号)}...
    ->+的(主场景,+括号)->+的#0(+括号,_项1)->+的(主场景,+的#0)->+[del](,+):
        ->负号(_项0,)->+[del](,负号)->+-(+括号,_项0)->+的(主场景,+-),
        ->++(+括号,_项0)->+的(主场景,++);

# x_1-x_2-x=x_1-(x+x_2)
+[del](,运行)...
->项(,_项0)->的(系数,_项1)->-(_项0,_项1)->+括号{
    []&:=>-#0(_项0,_a)...
        =>[]{[]:->[is](_a,_项1),
            ->的(系数,_a)->+[左连](-#0,_项1)->+[修改标题]"+"(,-#0),
            ->[]}
    }->+的(主场景,+括号)->+的#0(+括号,_项1)->+的(主场景,+的#0)->+[del](,-)...
        ->+-(_项0,+括号)->+的(主场景,+-);


+[del](,运行)


"""
存档:...

"""
## end
#95, 526:


匹配模板::^在%[公式]中, 代入%[句子x]=%[句子]$
输出模板::+[生成公式结构]"%[句子x]"(,+x)->+[描述公式]"结构转名词"(,+[做])->+[做](+x,+x)...
->+公式代入(记忆,+x);

公式代入(记忆,x)->%[公式]=>的(%[公式],_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入]"%[句子]"(,_x)->+场景(+[公式代入],%[公式])->+[del](,+场景),
->[];

公式代入(记忆,x)->+[del](,公式代入)->+[del](,x)=>的(x,_a)=>+[del](,_a);




公式代入(记忆,x)->%[公式]=>的(%[公式],_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入]"%[句子]"(,_x)->+场景(+[公式代入],%[公式])->+[del](,+场景),
->[];


## end
#97, 25:
^在%[公式]中, 代入%[句子x]=%[句子]$
## end
#99, 310:
+[生成公式结构]"%[句子x]"(,+x)->+[描述公式]"结构转名词"(,+[做])->+[做](+x,+x)...
->+公式代入(记忆,+x);

公式代入(记忆,x)->%[公式]=>的(%[公式],_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入]"%[句子]"(,_x)->+场景(+[公式代入],%[公式])->+[del](,+场景),
->[];

公式代入(记忆,x)->+[del](,公式代入)->+[del](,x)=>的(x,_a)=>+[del](,_a);
## end
#105, 16:
文档\S应用\网页画板.ftxt
## end
#107, 17:
文档\S应用\公式分析器.ftxt
## end
#112, 133:
"""


"""

+[生成公式结构](表达式,+公式结构);
公式结构->主场景=>的(公式结构,_)=>+的(主场景,_);
[公式头](公式结构,)->是([公式头],_)->+的#0(x,_)->+的(主场景,+的#0);

+[del](,+公式结构)

## end
#114, 369:
"""
结构转换:...

"""
+公式代换(_表达式,_x)->+[修改内容](+公式代换,+[临时文本])->+[del](,+公式代换)...
->的(公式代换,结构转换)...

->场景(+公式代换,_主场景)...

->+[structure](compiler,+场景)->+[code](+[structure],结构转换)...
->+[.]"x"(+[structure],_x)->+[.]"主场景"(+[structure],_主场景)...
->+[修改标题]"括号"(,_x)->+[拆括号](_主场景,_x)->+[del](,+场景):
    ->_表达式->+[.]"表达式"(+[structure],_表达式),
    ->+[.]"表达式"(+[structure],+[临时文本])



## end
#145, 199:

匹配模板::对%[公式]中的%[括号]\(%[句子]\)项, 以%[x]为变量提取系数
输出模板::的(%[公式],%[括号])->%[括号]{%[句子]}...
->+[系数结构转换](,%[括号])->+变量(+[系数结构转换],+%[x])->+[del](,+%[x])->+[del](,+变量)...
->+场景(+[系数结构转换],%[公式])->+[del](,+场景)





## end
#147, 37:
对%[公式]中的%[括号]\(%[句子]\)项, 以%[x]为变量提取系数
## end
#149, 143:
的(%[公式],%[括号])->%[括号]{%[句子]}...
->+[系数结构转换](,%[括号])->+变量(+[系数结构转换],+%[x])->+[del](,+%[x])->+[del](,+变量)...
->+场景(+[系数结构转换],%[公式])->+[del](,+场景)
## end
#157, 817:
"""
+[显示](,主场景)
+[显示](,项)

"""

项(,_项):->[is](_项,1)->/(1,_a)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(1,)=>+[左连](_re#1,_a),
            =>_re#2"[项\-+/*=\^]|起点"(,1)=>+[右连](_re#2,_a),
            =>的(括号#0,1)->括号#0=>+[右连](的,_a)}...
    ->+[del](,1)->+[del](,/),
    
    ->/(_项,_a1)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(_项,)=>+[左连](_re#1,_a1),
            =>_re#2"[项\-+/*=\^]|起点"(,_项)=>+[右连](_re#2,_a1),
            =>的(括号#0,_项)->括号#0=>+[右连](的,_a1)}...
    ->+[del](,/)->+*(_a1,_项)->+的(主场景,+*),
    
    ->+1(,)->+的(主场景,+1)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(_项,)=>+[左连](_re#1,+1),
            =>_re#2"[项\-+/*=\^]|起点"(,_项)=>+[右连](_re#2,+1),
            =>的(括号#0,_项)->括号#0=>+[右连](的,+1)}...
    ->+*(+1,_项)->+的(主场景,+*);

项(,_项)->_项=>_re"[/*]"(_项,)=>[]:
    ->[is](_re,/)->+[修改标题]"*"(,/),
    ->[is](_re,*)->+[修改标题]"/"(,*)



## end
#159, 233:
"""
结构转换:...

"""
+乘除交换(_主场景,_项)->+[del](,+乘除交换)...
->的(乘除交换,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)




## end
#161, 878:
"""
+[显示](,主场景)
+[设置结构](,变量)
+[显示](,项)




头部(,_a)->+[显示]"头部: "(,_a);

变量->乘式=>的(乘式,_变量)...
->_变量{[]&:=>的(变量,_变量),=>头部(,_变量)}=>+[显示]"附加: "(,_变量);

变量=>的(变量,_x)=>+[显示]"变量: "(,_x);


"""

项(,_项)->+的(+乘式,_项)=>_re"[/*]"(_项,_a)=>+的(+乘式,_a);
+变量->提取变量(,_x)->乘式(,)...
=>的(乘式,_项)->[eq](_项,_x)=>+的(+变量,_项);

的(乘式,_变量)->变量->_变量{[]=>的(变量,_变量)}->+头部(,_变量);


+的(主场景,+括号)->头部(,_a):
    ->/(,_a)->+[左连](/,+1)->+的(主场景,+1)->+的#0(+括号,+1)->+的(主场景,+的#0),
    ->*(,_a)->+[del](,*)->+的#1(+括号,_a)->+的(主场景,+的#1),
    ->+的#2(+括号,_a)->+的(主场景,+的#2);

的(括号,_a)->变量->乘式=>的(乘式,_变量)...
->_变量{[]&:=>的(变量,_变量),=>头部(,_变量)}=>[]:
    ->_re"[/*]"(,_变量)->+[左连](_re,_a),
    ->+*(_a,_变量)->+的(主场景,+*);

括号->变量=>的(变量,_x)=>[]:
    ->_re"[/*]"(,_x)->+[左连](_re,括号),
    ->+*(括号,_x)->+的(主场景,+*);

项(,_项)->括号&:
    =>_re"[=+\-]"(_项,)=>+[左连](_re,括号),
    =>_re"[=+\-]|起点"(,_项)=>+[右连](_re,括号);



+[del](,头部);
+[del](,乘式);



## end
#163, 307:
"""
结构转换:...

"""
+系数结构转换(,_项)->+[del](,+系数结构转换)...
->的(系数结构转换,结构转换)...

->变量(+系数结构转换,)...
->场景(+系数结构转换,_主场景)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"项"(+[structure],+项)->+项(,_项)->+[del](,+项)...
->+[.]"主场景"(+[structure],_主场景)->+[.]"提取变量"(+[structure],变量)




## end
#179, 1409:
"""
+[显示](,主场景)
+[显示](,项)

新项
"""


项(,_项)->[is](_项,_re)->_re"^[\d]*\.?[\d]+$"...
->[]{[]:=>^(_项,_项1)->_项1(,)...
    =>[is](_项1,_re#0)->_re#0"^[\d]*\.?[\d]+$"
}->+常数(项,_项);

项(,_项)=>_re#1"[/*]"(_项,_re)->_re"^[\d]*\.?[\d]+$"...
->[]{[]=>^(_re,_项1)->_项1(,)...
    =>[is](_项1,_re#0)->_re#0"^[\d]*\.?[\d]+$"
}=>+常数(项,_re);

常数(项,)->+常数项=>常数(项,_项)=>+[del](,常数)->+的(+常数项,_项);

的(常数项,_项0)->+[临时文本]"1"->[]{[]=>的(常数项,_项)->_项(,)...
    =>[]:->/(,_项)...
        ->+[标题](_项,)->+[增加内容]#1"/"(+[标题],+[临时文本]),
        ->+[标题](_项,)->+[增加内容]#2"*"(+[标题],+[临时文本])
}...
->+[matlab](Matlab,常数项)->+[code](+[matlab],+[临时文本]);

项(,_项)->常数项->Matlab(,)...
    ->+的(主场景,+新项)...
    ->+新项{+[matlab]"ans=n;"(Matlab,+[修改标题])->+[.]"n"(+[matlab],常数项)...
        ->+[修改标题](,+新项)}...
->[]{[]&:=>_re#1"[\-+/*=]|负号"(_项,)=>+[左连](_re#1,+新项),
        =>_re#2"[项\-+/*=]|项|起点|分子|分母"(,_项)=>+[右连](_re#2,+新项),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+新项)}...
->+*(+新项,_项)->+的(主场景,+*);

常数项=>的(常数项,_常数)->_常数=>+[删除变量](主场景,_常数);


常数项->项(,_re)->_re"^1\.0*$|^1$":
    ->*(_re,_项)->+[del](,*)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(_re,)=>+[左连](_re#1,_项),
            =>_re#2"[\-+/*=]|项|起点|分子|分母"(,_re)=>+[右连](_re#2,_项),
            =>的(括号#0,_re)->括号#0=>+[右连](的,_项)}...
    ->+[del](,_re),->[];


常数项->项(,_re)->_re"^\d*\.0*$"->+[标题](_re,)...
    ->+[python]"ans=int(a[0])"(Python,+[修改标题])...
    ->+[.]"a"(+[python],+[标题])->+[修改标题](,_re);


+[del](,常数项)


"""


"""
## end
#181, 249:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+整理常系数(_主场景,_项)->+[del](,+整理常系数)...
->的(整理常系数,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)
## end
#266, 205:
"""
+[显示](,主场景)
+[显示](,项)


"""

项:->负号(项,)->+[del](,负号)->+[显示]"1",
    ->+负号(项,)->+[显示]"2"->+的(主场景,+负号);

项=>_re"[\-+]"(项,)=>[]:
    ->[is](_re,-)->+[修改标题]"+"(,_re),
    ->[is](_re,+)->+[修改标题]"-"(,_re)



## end
#268, 209:
"""
结构转换:...

"""
+正负交换(_主场景,_项)->+[del](,+正负交换)...
->的(正负交换,结构转换)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.]"项"(+[structure],_项)




## end
#289, 393:
"""
->+[matlab](Matlab,_输出)->+[code](+[matlab],+[临时文本])

"""

+结构转数值(_结构,_输出)->+[del](,+结构转数值)...
->+[临时文本]->+[标题](_结构,)...
->[]{[]:->负号(_结构,)->+[修改内容]"-"(+[标题],+[临时文本]),
    ->+[修改内容](+[标题],+[临时文本])
}...

->[]{
    []=>_re"[/*]"(_结构,_re#A)->_re#A"[\d]*\.?[\d]+"...
    =>+[标题]#1(_re,)->+[增加内容](+[标题]#1,+[临时文本])...
    ->+[标题]#2(_re#A,)->+[增加内容](+[标题]#2,+[临时文本])
}...

->+[修改内容](+[临时文本],_输出)


## end
#295, 255:
"""


"""

+删除运算单元(,_单元)->+[del](,+删除运算单元)...
->[]{
    []=>_re"[的*+\-/\^]"(_单元,_子单元)=>+[del](,_re)->+[删除运算单元](,_子单元)
}->[]{
    []:->负号(_单元,)->+[del](,负号),->[]
}->[]{
    []:->[is](_单元,_re#0)->_re#0"分子|分母"(,_子项)->+[删除运算单元](,_子项),->[]
}->+[del](,_单元)





## end
#297, 235:
"""
结构转换:...

"""
+剔除运算单元(_主场景,_项)->+[del](,+剔除运算单元)...
->的(剔除运算单元,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)
## end
#299, 1344:
"""
分情况讨论: 
1.单元在和/乘/等式中, 则修补算式; 
2.单元是唯一指数, 则删除指数部分; 
3.单元是唯一括号内容, 则删除内容后剔除括号. 

"""

项(,_项)->_re"[/*\^]"(,_项)->+[del](,_re)->+[del](,_项); 

项(,_项)->_re"[/*]"(_项,):
    ->*(_项,_a1)...
    ->[]{[]&:=>_re#1"[\-+/*=]"(_项,)=>+[左连](_re#1,_a1),
            =>_re#2"[\-+/*=]|起点|分子|分母"(,_项)=>+[右连](_re#2,_a1),
            =>的(括号#0,_项)->括号#0=>+[右连](的,_a1)}...
        ->+[del](,*)->+[del](,_项),
    ->+[修改标题]"1"(,_项)->+[右连](项,); 


项(,_项)->_re"[\-+]"(,_项)->+[del](,_re)->+[del](,_项); 

项(,_项)->_re"[\-+]"(_项,_a1)...
    ->[]{[]&:=>_re#1"[\-+/*=]"(_项,)=>+[左连](_re#1,_a1),
            =>_re#2"[\-+/*=]|起点|分子|分母"(,_项)=>+[右连](_re#2,_a1),
            =>的(括号#0,_项)->括号#0=>+[右连](的,_a1)}...
        ->+[del](,_re)->+[del](,_项):
    ->[is](_re,-)->+负号(_a1,)->+的(主场景,+负号),->[];

项(,_项)->=(_项,):
    ->=#1(_a1,_项)->+[左连](=,_a1)->+[del](,=#1)->+[del](,_项),
    ->+[del](,=)->+[del](,_项);
项(,_项)->=(,_项)->+[del](,=)->+[del](,_项); 

项(,_项)->分母(,_项)->的(分式,分母)->的(分式,分子)->分子(,_分子)...
->[]{[]&:=>_re#1"[\-+/*=]"(分式,)=>+[左连](_re#1,_分子),
        =>_re#2"[\-+/*=]|起点|分子|分母"(,分式)=>+[右连](_re#2,_分子),
        =>的(括号#0,分式)->括号#0=>+[右连](的,_分子)}...
        ->+[del](,_项)...
->+[del](,分式)->+[del](,分母)->+[del](,分子);

项(,_项)->的(括号,_项)->+[del](,的)->+[del](,_项)...
->[]{[]:=>^(括号,_指数)=>+[del](,^)->+[删除运算单元](,_指数),
        =>负号(括号,)=>+[del](,负号)}...
->+[剔除运算单元](主场景,括号)



"""


"""
## end
#314, 179:
"""


"""

+删除式子(_结构,_式子)->+[del](,+删除式子)...
->[]{
    []:=>_re"[+\-/*\^的]"(_式子,_单元)->_单元=>+[del](,_re)->+[删除运算单元](,_单元),
        =>负号(_式子,)=>+[del](,负号)
}->+[剔除运算单元](_结构,_式子)




## end
#316, 175:
"""


"""

+删除变量(_结构,_变量)->+[del](,+删除变量)...
->[]{
    []&:=>_re"[\^的]"(_变量,_单元)->_单元=>+[del](,_re)->+[删除运算单元](,_单元),
        =>负号(_变量,)=>+[del](,负号)
}->+[剔除运算单元](_结构,_变量)




## end
#322, 170:
"""


"""

+删除项(_结构,_项)->+[del](,+删除项)...
->[]{
    []:=>_re"[/*\^的]"(_项,_单元)->_单元=>+[del](,_re)->+[删除运算单元](,_单元),
        =>负号(_项,)=>+[del](,负号)
}->+[剔除运算单元](_结构,_项)




## end
#369, 391:
"""
+[显示](,主场景)

"""


项(,_项)->/(_项,_项1)->+分子(,_项)->+分母(,_项1);

项(,_项)->分母(,_开头)=>/(_项,_项2)=>+[del](,/):
    ->[is](_项2,_开头),
    ->+*(_开头,_项2)->+的(主场景,+*);

项(,_项)...
->+的(+分式,分子)->+的(+分式,分母)...
->[]{[]&:=>_re#1"[\-+=]|负号"(_项,)=>+[左连](_re#1,+分式),
        =>_re#2"[项\-+=]|起点|分子|分母"(,_项)=>+[右连](_re#2,+分式),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+新项)};

的(分式,分子)->的(分式,分母)=>[那](_,)=>+的(主场景,_)



## end
#371, 229:
"""
结构转换:...

"""
+整理分式(_主场景,_项)->+[del](,+整理分式)...
->的(整理分式,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)
## end
#386, 1207:
"""
+[显示](,主场景)
+[显示](,项)

"""

+[生成公式结构](表达式,+公式结构);
[公式头](公式结构,)->是([公式头],_)->+头部(,_);

项(,_项)->头部(,_x)->_re"[+\-]"(_x,)...
->+的#0(+括号,_x)->+的(主场景,+的#0)->+的(主场景,+括号)->+[del](,头部):
    ->_re"[/*]"(_项0,_项)->+/(_项0,+括号)->+的(主场景,+/),
    ->+/(_项,+括号)->+的(主场景,+/);

项(,_项)->头部(,_x)->_re"[*/]"(_x,)...
->+[del](,头部)->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->[]{
    +/(_项2,_x)->+的(主场景,+/)...
    =>_re"[*/]"(_x,_y)=>+[左连](_re,_项2):
        ->[is](_re,*)->+[修改标题]"/"(,*),
        ->[is](_re,/)->+[修改标题]"*"(,/)
}:->负号(_x,)->+[del](,负号)...
    ->+[乘以](主场景,_项2)->+表达式"-1"(+[乘以],)->+[del](,+表达式),->[];

项(,_项)->头部(,1)->1(,)...
->+[del](,头部)->+删除(,1)->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->+[显示]"2: "(,_项2):
    ->负号(1,)->[]{
        []:->+(,_项2)->+[修改标题]"-"(,+), ->-(,_项2)->+[修改标题]"+"(,-),
             ->负号(_项2,)->+[del](,负号), ->+负号(_项2,)->+的(主场景,+负号)
    },->[];

项(,_项)->头部(,_a)...
->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->+/(_项2,_a)->+的(主场景,+/);

公式结构->主场景:
    ->删除=>的(公式结构,_a)=>+[del](,_a),
    =>的(公式结构,_b)=>+的(主场景,_b);

+[del](,删除);
+[del](,头部);
+[del](,公式结构)
## end
#388, 262:
"""
结构转换:...

"""
+除以(_主场景,_项)->+[del](,+除以)...
->的(除以,结构转换)...

->表达式(+除以,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],表达式)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#418, 1110:
"""
+[显示](,主场景)
+[显示](,项)

"""

+常数项;

项(,_项)->[is](_项,_re)->_re"[\d]*\.?[\d]+"...
->[]{[]:=>_re#1"[/*]"(_项,_项1)->_项1(,)...
    =>[is](_项1,_re#0)->_re#0"[\d]*\.?[\d]+"
}->+的(常数项,_项);

项(,_项)=>_re#1"[+\-]"(_项,_re)->_re"[\d]*\.?[\d]+"...
->[]{[]=>_re#2"[/*]"(_re,_项1)->_项1(,)...
    =>[is](_项1,_re#0)->_re#0"[\d]*\.?[\d]+"
}=>+的(常数项,_re);

常数项->+[临时文本]->[]{[]=>的(常数项,_项)->_项(,)...
    =>[]:->-(,_项)...
        ->+[结构转数值](_项,+[临时文本]#1)->+[增加内容]#1"-"(+[临时文本]#1,+[临时文本]),
        ->+[结构转数值](_项,+[临时文本]#2)->+[增加内容]#2"+"(+[临时文本]#2,+[临时文本])
}...
->+[matlab](Matlab,常数项)->+[code](+[matlab],+[临时文本]);

项(,_项)->常数项->Matlab(,)...
    ->+新项{+[matlab]"ans=abs(n);"(Matlab,+[修改标题])->+[.]"n"(+[matlab],常数项)...
        ->+[修改标题](,+新项)}...
    ->+的(主场景,+新项)->+标记(,+新项)...
    ->+运算(_项,+新项){+[.]"n"([matlab],常数项):->[matlab]"state=sign_1(n);"(Matlab,)...
        ->+[修改标题]"+"(,+运算),
        ->+[修改标题]"-"(,+运算)}...
    ->+的(主场景,+运算);

常数项=>的(常数项,_常数)->_常数=>+[删除项](主场景,_常数);

标记(,_re)->_re"^\d*.0*$"->+[标题](_re,)->+[python]"ans=int(a[0])"(Python,+[修改标题])...
    ->+[.]"a"(+[python],+[标题])->+[修改标题](,_re);

+[del](,常数项);
+[del](,标记);
## end
#420, 232:
"""
结构转换:...

"""
+整理常数项(_主场景,_项)->+[del](,+整理常数项)...
->的(整理常数项,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)
## end
#427, 3:
632
## end
#502, 1136:
"""
+[显示](,主场景)
+[显示](,项)

"""

项(,_项)->括号:->[is](_项,括号),
    ->*(_项,括号)->+[右连](*,_项)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(_项,)=>+[左连](_re#1,括号),
        =>_re#2"[项\-+/*=\^]|起点|分子|分母"(,_项)=>+[右连](_re#2,括号),
        =>的(括号#0,_项)->括号#0=>+[右连](的,括号)};


括号->项(,括号):
    ->*(括号,_项1)->+乘数(,_项1)->+[左连](*,+乘数)...
        =>_re"[/*]"(括号,_项2)->_项2{[]=>[is](_项1,_项2)}=>+[左连](_re,_项1),
    ->/(括号,_项3)->+乘数(,_项3)->+[左连](/,+乘数)...
        =>_re"[/*]"(括号,_项4)->_项4{[]=>[is](_项1,_项4)}=>+[左连](_re,_项3)...
        ->[]{[]:->[is](_re,/)->/->+[修改标题]"*"(,/),->+[修改标题]"/"(,_re)},
    ->[];


+[修改内容](记忆,+记住)->+[修改内容]"表达式"(,记忆);
乘数(,_项1)->+[算式](_项1,乘数);
+[修改内容](+记住,记忆)->+[del](,+记住);

乘数(,_项1)->*(乘数,_项1)->的(括号,_a)...
->+[乘以](主场景,_a)->+表达式(+[乘以],)->[m_text](乘数,+表达式)->+[del](,+表达式)...
    =>_re"[\-+]"(_a,_b)...
    =>+[乘以](主场景,_b)->+表达式(+[乘以],)->[m_text](乘数,+表达式)->+[del](,+表达式);

乘数(,_项1)->/(乘数,_项1)->的(括号,_a)...
->+[除以](主场景,_a)->+表达式(+[除以],)->[m_text](乘数,+表达式)->+[del](,+表达式)...
    =>_re"[\-+]"(_a,_b)...
    =>+[除以](主场景,_b)->+表达式(+[除以],)->[m_text](乘数,+表达式)->+[del](,+表达式);


乘数(,_项1)->_(乘数,_项1)->+[del](,_)->+[删除运算单元](,_项1);

+[del](,乘数);


"""


"""
## end
#504, 314:
"""
结构转换:...
+[新建阅读窗口](,结构转换)
+[修改标题]"配分运算"(,配分法拆括号)

"""
+配分运算(_主场景,_项)->+[del](,+配分运算)...
->的(配分运算,结构转换)...

->括号(+配分运算,括号#0)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],括号#0)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#530, 515:
"""
+[显示](,主场景)
+[显示](,项)

"""

+[生成公式结构](表达式,+公式结构);
[公式头](公式结构,)->是([公式头],_)->+头部(,_);

项(,_项)->头部(,_x)->主场景(,)...
->+[del](,头部)->+[del](,+锚点)->[]{
    []:->_re"[+\-]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->[]{
    []=>_re"[+\-]"(_x,_y)=>+[左连](_re,_项2)
}:->负号(_x,)->+[del](,负号)...
    ->+-(_项2,_x)->+的(主场景,+-),
    ->++(_项2,_x)->+的(主场景,++);

项(,_项)=>_re"[+\-]"(_项,0)=>+[删除项](主场景,0);

公式结构->主场景:
    ->删除=>的(公式结构,_a)=>+[del](,_a),
    =>的(公式结构,_b)=>+的(主场景,_b);

+[del](,删除);
+[del](,头部);
+[del](,公式结构)
## end
#532, 279:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+加上(_主场景,_项)->+[del](,+加上)...
->的(加上,结构转换)...

->表达式(+加上,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],表达式)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#548, 5:
LaTeX
## end
#553, 5:
LaTeX
## end
#558, 5:
LaTeX
## end
#563, 5:
LaTeX
## end
#567, 3:
575
## end
#569, 3:
628
## end
#571, 541:
"""
+[显示](,主场景)
+[显示](,项)

"""

+[生成公式结构](表达式,+公式结构);
[公式头](公式结构,)->是([公式头],_)->+头部(,_);

项(,_项)->头部(,_x)->主场景(,)...
->+[del](,头部)->+[del](,+锚点)->[]{
    []:->_re"[+\-]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->[]{
    []=>_re"[+\-]"(_x,_y)=>+[左连](_re,_项2):
        ->[is](_re,+)->+[修改标题]"-"(,+),
        ->[is](_re,-)->+[修改标题]"+"(,-)
}:->负号(_x,)->+[del](,负号)...
    ->++(_项2,_x)->+的(主场景,++),
    ->+-(_项2,_x)->+的(主场景,+-);

项(,_项)=>_re"[+\-]"(_项,0)=>+[删除项](主场景,0);

公式结构->主场景=>的(公式结构,_b)=>+[有](主场景,_b);

+[del](,头部);
+[del](,公式结构)
## end
#573, 279:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+减去(_主场景,_项)->+[del](,+减去)...
->的(减去,结构转换)...

->表达式(+减去,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],表达式)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#575, 961:
"""
+[显示](,主场景)
+[显示](,项)

"""

项(,_项)->+操作(,_项);

操作(,_项)->_re"[\-+]"(_项,)...
->+[右连](操作,+分式)->+的(+分式,+分母)->+分母(,+1)...
->+的(+分式,+分子)->+分子(,_项)...
->[]{[]&:=>_re#1"="(_项,)=>+[左连](_re#1,+分式),
        =>_re#2"=|项|起点|分子|分母"(,_项)=>+[右连](_re#2,+分式),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+分式)};

操作(,_项)->_re"[*/]"(_项,):
    ->/(_项,)->+[整理分式](自己,_项),
->+[右连](操作,+分式)->+的(+分式,+分母)->+分母(,+1)...
->+的(+分式,+分子)->+分子(,_项)...
->[]{[]&:=>_re#1"=|负号"(_项,)=>+[左连](_re#1,+分式),
        =>_re#2"=|项|起点|分子|分母"(,_项)=>+[右连](_re#2,+分式),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+分式)};

+[del](,操作);

项(,分式)->的(分式,分子)->分子(,_分子)->的(分式,分母)->分母(,_分母)...
->+[右连](分子,_分母)->+[右连](分母,_分子);

项(,分式)->的(分式,分母)->分母(,_re)->_re"1.?0*|1"...
->的(分式,分子)->分子(,_项)...
->[]{[]&:=>_re#1"=|负号"(分式,)=>+[左连](_re#1,_项),
        =>_re#2"=|项|起点|分子|分母"(,分式)=>+[右连](_re#2,_项),
        =>的(括号#0,分式)->括号#0=>+[右连](的,_项)}...
->+[del](,分式)->+[del](,分子)->+[del](,分母)->+[del](,_re);


项(,_项)->=(_项,_项2)->+[等式倒数](自己,_项2);



## end
#577, 203:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+等式倒数(_主场景,_项)->+[del](,+等式倒数)...
->的(等式倒数,结构转换)...

->+项(,_项)...

->+[structure](compiler,_主场景)...
->+[code](+[structure],结构转换)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#580, 144:


匹配模板::^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[句子B]"\(表达式\)$
输出模板::%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式"%[句子B]"(+[%[运算]],)->+[del](,+表达式)




## end
#582, 47:
^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[句子B]"\(表达式\)$
## end
#584, 78:
%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式"%[句子B]"(+[%[运算]],)->+[del](,+表达式)
## end
#586, 83:


匹配模板::^在%[公式]中, 删除式子"%[A]"\(%[句子A]\)$
输出模板::%[A]{%[句子A]}->+[删除式子](%[公式],%[A])




## end
#588, 31:
^在%[公式]中, 删除式子"%[A]"\(%[句子A]\)$
## end
#590, 33:
%[A]{%[句子A]}->+[删除式子](%[公式],%[A])
## end
#591, 32:
%[A]{%[句子A]}->+[拆括号](%[公式],%[A])
## end
#592, 31:
^在%[公式]中, 拆"%[A]"\(%[句子A]\)的括号$
## end
#595, 96:
+[修改标题]"1"(,拆括号)

匹配模板::^在%[公式]中, 拆"%[A]"\(%[句子A]\)的括号$
输出模板::%[A]{%[句子A]}->+[拆括号](%[公式],%[A])


## end
#597, 50:
^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]式子"%[B]"\(%[句子B]\)$
## end
#598, 152:
%[B]{%[句子B]}->+[修改内容]"表达式"(,记忆)...
->+[和式](%[B],+[修改内容]#0)->+[修改内容]#0(,+表达式)...
->%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式(+[%[运算]],)->+[del](,+表达式)
## end
#601, 221:


匹配模板::^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]式子"%[B]"\(%[句子B]\)$
输出模板::%[B]{%[句子B]}->+[修改内容]"表达式"(,记忆)...
->+[和式](%[B],+[修改内容]#0)->+[修改内容]#0(,+表达式)...
->%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式(+[%[运算]],)->+[del](,+表达式)




## end
#603, 1284:
"""
+[显示](,主场景)
+[显示](,项)

"""

+[生成公式结构](表达式,+公式结构);
[公式头](公式结构,)->是([公式头],_)->+头部(,_);

项(,_项)->头部(,_x)->_re"[+\-]"(_x,)...
->+的#0(+括号,_x)->+的(主场景,+的#0)->+的(主场景,+括号)->+[del](,头部):
    ->_re"[/*]"(_项0,_项)->+*(_项0,+括号)->+的(主场景,+*),
    ->+*(_项,+括号)->+的(主场景,+*);

项(,_项)->头部(,_x)->_re"[*/]"(_x,)...
->+[del](,头部)->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->[]{
    +*(_项2,_x)->+的(主场景,+*)...
    =>_re"[*/]"(_x,_y)=>+[左连](_re,_项2)
}:->负号(_x,)->+[del](,负号)...
    ->+[乘以](主场景,_项2)->+表达式"-1"(+[乘以],)->+[del](,+表达式),->[];

项(,_项)->头部(,0)->0(,)...
->+[del](,头部)->+删除(,0)->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->+[删除项](主场景,_项2);

项(,_项)->头部(,1)->1(,)...
->+[del](,头部)->+删除(,1)->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->+[显示]"2: "(,_项2):
    ->负号(1,)->[]{
        []:->+(,_项2)->+[修改标题]"-"(,+), ->-(,_项2)->+[修改标题]"+"(,-),
            ->负号(_项2,)->+[del](,负号),  ->+负号(_项2,)->+的(主场景,+负号)
    },->[];

项(,_项)->头部(,_a)...
->+[del](,+锚点)->[]{
    []:->_re"[/*]"(_项0,_项)->+的(+锚点,_项0),->+的(+锚点,_项)}...
->的(+锚点,_项2)->+*(_项2,_a)->+的(主场景,+*);

公式结构->主场景:
    ->删除=>的(公式结构,_a)=>+[del](,_a),
    =>的(公式结构,_b)=>+的(主场景,_b);

+[del](,删除);
+[del](,头部);
+[del](,公式结构)
## end
#605, 279:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+乘以(_主场景,_项)->+[del](,+乘以)...
->的(乘以,结构转换)...

->表达式(+乘以,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],表达式)...
->+[.](+[structure],+项)->+[del](,+项)
## end
#608, 318:

替换::项(,_项)->常数项->Matlab(,)...
    ->+新项{+[matlab]"ans=n;"(Matlab,+[修改标题])->+[.]"n"(+[matlab],常数项)...
        ->+[修改标题](,+新项)}...
->[]{[]&:=>_re#1"[\-+/*=]|负号"(_项,)=>+[左连](_re#1,+新项),
        =>_re#2"[项\-+/*=]|项|起点|分子|分母"(,_项)=>+[右连](_re#2,+新项),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+新项)}...
->+*(+新项,_项)->+的(主场景,+*);


## end
#609, 105:
=(_A,_B){%[句子A]}->_A->_B->+[左连](=,_B)->+[右连](=,_A);
[公式头](%[公式],)->是([公式头],_c)->的(%[公式],起点)->+[右连](起点,_c)
## end
#610, 28:
^在%[公式]中, 交换等式\(%[句子A]\)的两边$
## end
#613, 149:


匹配模板::^在%[公式]中, 交换等式\(%[句子A]\)的两边$
输出模板::=(_A,_B){%[句子A]}->_A->_B->+[左连](=,_B)->+[右连](=,_A);
[公式头](%[公式],)->是([公式头],_c)->的(%[公式],起点)->+[右连](起点,_c)

## end
#615, 32:
^在%[公式]中, 等式"%[A]"\(%[句子A]\)做倒数$
## end
#616, 33:
%[A]{%[句子A]}->+[等式倒数](%[公式],%[A])
## end
#619, 82:


匹配模板::^在%[公式]中, 等式"%[A]"\(%[句子A]\)做倒数$
输出模板::%[A]{%[句子A]}->+[等式倒数](%[公式],%[A])


## end
#621, 3:
653
## end
#623, 32:
%[A]{%[句子A]}->+[删除项](%[公式],%[A])
## end
#624, 29:
^在%[公式]中, 删除"%[A]"\(%[句子A]\)$
## end
#627, 80:


匹配模板::^在%[公式]中, 删除"%[A]"\(%[句子A]\)$
输出模板::%[A]{%[句子A]}->+[删除项](%[公式],%[A])




## end
#629, 398:
括号{%[句子A]}->+[除以](%[公式],括号)->+表达式"%[句子B]"(+[除以],)->+[del](,+表达式)...
->+配分运算2(记忆,括号);

配分运算2(记忆,括号)->%[公式](,)...
    ->+[配分运算](%[公式],括号)->+括号(+[配分运算],括号)->+[del](,+括号);
配分运算2(记忆,括号)->的(括号,_a)->+[整理系数](%[公式],_a)...
    =>_re"[\-+]"(_a,_B)=>+[整理系数](公式结构,_B);
配分运算2(记忆,括号)->的(括号,_a)->+[整理常数项](%[公式],_a);

配分运算2(记忆,括号)->+[乘以](%[公式],括号)->+表达式"%[句子B]"(+[乘以],)->+[del](,+表达式);
配分运算2(记忆,括号)->+[del](,配分运算2);
## end
#630, 41:
^在%[公式]中, 从括号\(%[句子A]\)提取"%[句子B]"\(表达式\)$
## end
#633, 457:


匹配模板::^在%[公式]中, 从括号\(%[句子A]\)提取"%[句子B]"\(表达式\)$
输出模板::括号{%[句子A]}->+[除以](%[公式],括号)->+表达式"%[句子B]"(+[除以],)->+[del](,+表达式)...
->+配分运算2(记忆,括号);

配分运算2(记忆,括号)->%[公式](,)...
    ->+[配分运算](%[公式],括号)->+括号(+[配分运算],括号)->+[del](,+括号);
配分运算2(记忆,括号)->的(括号,_a)->+[整理系数](%[公式],_a)...
    =>_re"[\-+]"(_a,_B)=>+[整理系数](公式结构,_B);
配分运算2(记忆,括号)->的(括号,_a)->+[整理常数项](%[公式],_a);

配分运算2(记忆,括号)->+[乘以](%[公式],括号)->+表达式"%[句子B]"(+[乘以],)->+[del](,+表达式);
配分运算2(记忆,括号)->+[del](,配分运算2);



## end
#635, 152:
%[B]{%[句子B]}->+[修改内容]"表达式"(,记忆)...
->+[乘式](%[B],+[修改内容]#0)->+[修改内容]#0(,+表达式)...
->%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式(+[%[运算]],)->+[del](,+表达式)
## end
#636, 48:
^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[B]"\(%[句子B]\)$
## end
#639, 219:


匹配模板::^在%[公式]中, "%[A]"\(%[句子A]\)%[运算]"%[B]"\(%[句子B]\)$
输出模板::%[B]{%[句子B]}->+[修改内容]"表达式"(,记忆)...
->+[乘式](%[B],+[修改内容]#0)->+[修改内容]#0(,+表达式)...
->%[A]{%[句子A]}...
->+[%[运算]](%[公式],%[A])->+表达式(+[%[运算]],)->+[del](,+表达式)




## end
#641, 35:
^在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数$
## end
#642, 81:
%[A]{%[句子A]}->+[整理系数](%[公式],%[A])...
=>_re"[\-+]"(%[A],_B)...
=>+[整理系数](%[公式],_B)
## end
#645, 133:


匹配模板::^在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数$
输出模板::%[A]{%[句子A]}->+[整理系数](%[公式],%[A])...
=>_re"[\-+]"(%[A],_B)...
=>+[整理系数](%[公式],_B)


## end
#647, 3:
655
## end
#649, 3:
661
## end
#652, 675:

# -(-a+2)+1
# (a+2)+1

的(括号,_a)->_re#0"[\-+]"(括号,):
        ->_re"[/*\^]"(括号,), ->_re"[/*\^]"(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+删除;


# (a+b)=0 或者 \frac{1}{(a+b)}
的(括号,_a)->[]{[]=>删除}:
        ->^(括号,), ->^(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+[del](,括号)->+删除;



## end
#654, 246:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+整理系数(_主场景,_项)->+[del](,+整理系数)...
->的(整理系数,结构转换)...

->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],+项)->+[del](,+项)
## end
#656, 1626:
"""


"""

+系数->+整合系数;

项(,_项)->+[整理常系数](主场景,_项);

项(,_项):->[is](_项,括号),
    ->[is](_项,_re)->_re"^\d+.?\d*$",
->+的(系数,_项);

项(,_项0)=>_re"[/*]"(_项0,_项)=>[]:->[is](_项,括号),
    ->[is](_项,_re#0)->_re#0"^\d+.?\d*$",
->+的(系数,_项);


整合系数->系数=>的(系数,_项)->_项{[]=>的(整合系数,_项1)->_项1->[eq](_项1,_项)}...
    =>+的(整合系数,+新项)->[m_name](_项,+新项)...
    ->+^(+新项,+括号)->+的#0(+括号,+0)...
->+的(主场景,+新项)->+的(主场景,+^)->+的(主场景,+括号)...
->+的(主场景,+的#0)->+的(主场景,+0);

主场景->系数->整合系数=>的(整合系数,_项0)=>^(_项0,括号)->的(括号,0)...
=>的(系数,_项)->[eq](_项,_项0)...
=>[]:->^(_项,_指数)->+[del](,^)...
    ->[]{[]:->/(,_项)->+-(0,_指数)->+的(主场景,+-),
            ->++(0,_指数)->+的(主场景,++)},
    ->[]{[]:->/(,_项)->+-(0,+1#0)->+的(主场景,+-)->+的(主场景,+1#0),
            ->++(0,+1#1)->+的(主场景,++)->+的(主场景,+1#1)};


主场景->项(,_项0)->整合系数=>的(整合系数,_项)...
    =>+*(_项0,_项)->+的(主场景,+*);


主场景->项(,_项0)->整合系数=>的(整合系数,_项)->^(_项,括号)->的(括号,0)...
    =>+[整理常数项](主场景,0)->+[拆括号](主场景,括号);


系数->的(系数,_项)->负号(_项,)->+的(主场景,+负号);
系数=>的(系数,_项)=>+[删除变量](主场景,_项);

整合系数=>的(整合系数,_re)->^(_re,0)...
    =>+[del](,^)->+[del](,0)->+[修改标题]"1"(,_re);

整合系数=>的(整合系数,_re)->^(_re,1)...
    =>+[del](,^)->+[del](,1);

主场景->的(整合系数,1):->_re"[/*]"(_a,1)->+[整理常系数](主场景,_a),
    ->+[整理常系数](主场景,1);

负号->的(整合系数,_项)->_re"[/*]"(_项,)->+[左连](负号,_项);


# +[显示星图]"1"(,自己);

+[del](,系数);
+[del](,整合系数);



"""

整合系数=>的(整合系数,_re)->^(_re,0)...
=>+[del](,^)->+[del](,0):
    ->*(_re,_项)->+[del](,*)->+[del](,_re)...
    ->[]{[]&:=>_re#1"[\-+/*=]|负号"(_re,)=>+[左连](_re#1,_项),
            =>_re#2"[项\-+/*=]|项|起点|分子|分母"(,_re)=>+[右连](_re#2,_项),
            =>的(括号#0,_re)->括号#0=>+[右连](的,_项)},
    ->_re#0"[*/]"(,_re)->+[del](,_re)->+[del](,_re#0);



"""
## end
#657, 3:
702
## end
#659, 675:

# -(-a+2)+1
# (a+2)+1

的(括号,_a)->_re#0"[\-+]"(括号,):
        ->_re"[/*\^]"(括号,), ->_re"[/*\^]"(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+删除;


# (a+b)=0 或者 \frac{1}{(a+b)}
的(括号,_a)->[]{[]=>删除}:
        ->^(括号,), ->^(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+[del](,括号)->+删除;



## end
#661, 2106:
"""
+[显示](,主场景)
+[显示](,括号)

存档:...

"""



# -(-a+2)+1
# (a+2)+1

的(括号,_a):
        ->_re"[\-+]"(_b,括号)->_b,
        ->_re"[/*\^]"(括号,), ->_re"[/*\^]"(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]}...
    ->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)}...
    ->+删除;


# b-(a+2)+1

的(括号,_a)->_re#0"[\-+]"(_b,括号)->_b:->删除,
        ->_re"[/*\^]"(括号,), ->_re"[/*\^]"(,括号),
    ->[]{[]:->[is](_re#0,-)->-->+[正负交换](主场景,_a)->+[修改标题]"+"(,-),
            ->[]
    }->[]{[]&:=>_re#1"[\-+]"(_a,)=>+[左连](_re#1,_b),
            ->+[右连](_re#0,_a)
    }->+删除;

的(括号,_a)->负号(_a,)->+(_b,_a)->+[修改标题]"-"(,+)->+[del](,负号);


# (a*c/b)*c+2+1

的(括号,_a)->_re"[/*]"(括号,):->删除,
        ->^(括号,), ->^(,括号), ->_re"[\-+]"(_a,),
    ->[]{+[倒序](,_a)&:=>_re#1"[\-+/*=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+/*=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+删除;

# d*(a*c/b)*e+2+1
# d/(a*c/b)*e+2+1

的(括号,_a)->_re#0"[/*]"(_b,括号)->_b:->删除,
        ->^(括号,), ->^(,括号), ->_re"[\-+]"(_a,),
    ->[]{[]:->[is](_re#0,/)->/->+[乘除交换](主场景,_a),
            ->[]
    }->[]{[]&:=>_re#1"[/*]"(_a,)=>+[左连](_re#1,_b),
            ->+[右连](_re#0,_a)
    }->+删除;

## 格式整理
的(括号,1)->/(1,)->+[del](,/)->+[del](,1);
的(括号,_a)->*(_b,_a)->*(_b,_){[]=>_}->+[del](,*);
的(括号,_c)->/(_c,_a)->_re"[/*]"(_b,_a)->_b{[]=>[is](_c,_b)}...
->+[del](,/)->+*(_b,_c)->+的(主场景,+*);

# (a)^2+2+1

的(括号,_a)->^(括号,):->删除,
        ->^#0(,括号), ->_re"[\-+/*]"(_a,),
    ->[]{+[倒序](,_a)&:=>_re#1"[\-+/*=\^]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+/*=\^]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+删除;


# a^-(-a)
# a^(a)

的(括号,_a)->^(,括号):->删除,
        ->^#0(括号,), ->_re"[/*\-+]"(_a,),
    ->[]{[]:->负号(括号,)->负号#0(_a,)->+[del](,负号)->+[del](,负号#0),
            ->[]}...
    ->+[右连](^,_a)->+删除;

#-(-a)
的(括号,_a)->负号(括号,):
    ->负号#0(_a,)->+[del](,负号)->+[del](,负号#0),
    ->+[左连](负号,_a);



删除->+[del](,括号);
自己=>的(自己,删除)=>+[del](,删除)


"""
存档:...



"""
## end
#663, 221:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+拆括号(_主场景,括号)->+[del](,+拆括号)...
->的(拆括号,结构转换)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],括号)





## end
#665, 675:

# -(-a+2)+1
# (a+2)+1

的(括号,_a)->_re#0"[\-+]"(括号,):
        ->_re"[/*\^]"(括号,), ->_re"[/*\^]"(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+删除;


# (a+b)=0 或者 \frac{1}{(a+b)}
的(括号,_a)->[]{[]=>删除}:
        ->^(括号,), ->^(,括号),
    ->[]{[]:->负号(括号,)->+[正负交换](主场景,_a)->+[del](,负号),
            ->[]
    }->[]{[]&:=>_re#1"[\-+=]"(括号,)=>+[左连](_re#1,_a),
            =>_re#2"[\-+=]|起点|分子|分母"(,括号)=>+[右连](_re#2,_a),
            =>的(括号#0,括号)->括号#0=>+[右连](的,_a)
    }->+[del](,括号)->+删除;



## end
#667, 1217:
"""
+[显示](,主场景)
+[显示](,括号)

存档:...

"""
+运行;

# x_1*x_2*x=(x_1*x_2)*x
+[del](,运行)...
->项(,_项)->的(系数,_项)->+括号{
    []&:=>_re#1"[\-+=]|负号"(_项,)=>+[左连](_re#1,+括号),
        =>_re#2"[\-+=]|起点|分子|分母|项"(,_项)=>+[右连](_re#2,+括号),
        =>_re#3"[/*]"(_项,_a)->_a{[]=>的(系数,_a)}=>+[左连](_re#3,+括号),
        =>的(括号#0,_项)->括号#0=>+[右连](的,+括号)}...
    ->+的(主场景,+括号)->+的#0(+括号,_项)->+的(主场景,+的#0);

# x_1*x_2*x=(x*x_2)*x_1
# x_1*x_2/x=(x_2/x)*x_1
+[del](,运行)...
->项(,_项0)->的(系数,_项1)->*(_项0,_项1)->+括号{
    []&:=>_re#1"[\-+=]|负号"(_项0,)=>+[左连](_re#1,+括号),
        =>_re#2"[\-+=]|起点|分子|分母|项"(,_项0)=>+[右连](_re#2,+括号),
        =>_re#3"[/*]"(_项0,_a)...
        =>[]{[]:->[is](_a,_项1),
            ->的(系数,_a)->+[左连](_re#3,_项1),
            ->+[左连](_re#3,+括号)},
        =>的(括号#0,_项0)->括号#0=>+[右连](的,+括号)}...
    ->+的(主场景,+括号)->+的#0(+括号,_项1)->+的(主场景,+的#0)->+[del](,*)...
        ->+*(+括号,_项0)->+的(主场景,+*);

# x_1/x_2/x=x_1/(x*x_2)
+[del](,运行)...
->项(,_项0)->的(系数,_项1)->/(_项0,_项1)->+括号{
    []&:=>/#0(_项0,_a)...
        =>[]{[]:->[is](_a,_项1),
            ->的(系数,_a)->+[左连](/#0,_项1)->+[修改标题]"*"(,/#0),
            ->[]}
    }->+的(主场景,+括号)->+的#0(+括号,_项1)->+的(主场景,+的#0)->+[del](,/)...
        ->+/(_项0,+括号)->+的(主场景,+/);


+[del](,运行)


"""
存档:...

"""
## end
#669, 298:
"""
结构转换:...
+[新建阅读窗口](,结构转换)

"""
+加括号_系数(_主场景,_项)->+[del](,+加括号_系数)...
->的(加括号_系数,结构转换)...

->系数(+加括号_系数,)->+项(,_项)...

->+[structure](compiler,+场景)->+[del](,+场景)...
->+[code](+[structure],结构转换)...
->+[.]"主场景"(+[structure],_主场景)->+[.](+[structure],系数)...
->+[.](+[structure],+项)->+[del](,+项)





## end
#671, 36:
%[A]{%[句子A]}->+[整理%[系]数](%[公式],%[A])
## end
#672, 35:
^在%[公式]中, 整理"%[A]"\(%[句子A]\)的%[系]数$
## end
#675, 88:


匹配模板::^在%[公式]中, 整理"%[A]"\(%[句子A]\)的%[系]数$
输出模板::%[A]{%[句子A]}->+[整理%[系]数](%[公式],%[A])


## end
#677, 53:
^在%[公式]中, 给"%[A]"\(%[句子A]\)中所有的项"%[B]"\(%[句子B]\)加上括号$
## end
#678, 192:
%[A]{%[句子A]}->+[加括号_项](%[公式],%[A])...
->+系数(+[加括号_项],)->+[del](,+系数)...
=>_re"[\-+]"(%[A],_项)...
->_项{[]:->%[B]->[is](_项,%[B]){%[句子B]},
        ->%[B]->_re"[/*]"(_项,%[B]){%[句子B]}
}=>+的(+系数,_项)
## end
#681, 262:


匹配模板::^在%[公式]中, 给"%[A]"\(%[句子A]\)中所有的项"%[B]"\(%[句子B]\)加上括号$
输出模板::%[A]{%[句子A]}->+[加括号_项](%[公式],%[A])...
->+系数(+[加括号_项],)->+[del](,+系数)...
=>_re"[\-+]"(%[A],_项)...
->_项{[]:->%[B]->[is](_项,%[B]){%[句子B]},
        ->%[B]->_re"[/*]"(_项,%[B]){%[句子B]}
}=>+的(+系数,_项)


## end
#683, 74:
%[A]{%[句子A]}=>_re"[\-+]"(%[A],%[B])->%[B]{%[句子B]}...
=>+[整理系数](%[公式],%[B])
## end
#684, 51:
^在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数"%[B]"\(%[句子B]\)$
## end
#687, 142:


匹配模板::^在%[公式]中, 整理"%[A]"\(%[句子A]\)中所有的系数"%[B]"\(%[句子B]\)$
输出模板::%[A]{%[句子A]}=>_re"[\-+]"(%[A],%[B])->%[B]{%[句子B]}...
=>+[整理系数](%[公式],%[B])


## end
#689, 149:
%[A]{%[句子A]}->+[配分运算](%[公式],%[A])...
->_re[/*](%[A],括号#ABSBC)...
->括号#ABSBC{%[句子B]}->+括号(+[配分运算],括号#ABSBC)->+[del](,+括号)...
->+[拆括号](%[公式],括号#ABSBC);
## end
#690, 47:
^在%[公式]中, 对"%[A]"\(%[句子A]\)中的括号\(%[句子B]\)做配分运算$
## end
#693, 213:


匹配模板::^在%[公式]中, 对"%[A]"\(%[句子A]\)中的括号\(%[句子B]\)做配分运算$
输出模板::%[A]{%[句子A]}->+[配分运算](%[公式],%[A])...
->_re[/*](%[A],括号#ABSBC)...
->括号#ABSBC{%[句子B]}->+括号(+[配分运算],括号#ABSBC)->+[del](,+括号)...
->+[拆括号](%[公式],括号#ABSBC);


## end
#695, 3:
707
## end
#697, 3:
751
## end
#701, 97:
+测试新名词(a#326,)...
->+(a#326,c)...

=>[那](_,)=>[]:->[is](_,c#326),->[is](_,+测试新名词),
->+的(+测试新名词,_)
## end
#702, 311:
"""


"""


+[生成公式结构](fx,+x)->+[描述公式]"结构转名词"(,+[做])->+[做](+x,+x)...
->+公式代入(记忆,+x);

公式代入(记忆,x)->算式结构=>的(算式结构,_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入](x1,_x)->+场景(+[公式代入],算式结构)->+[del](,+场景),
->[];

公式代入(记忆,x)->+[del](,公式代入)->+[del](,x)=>的(x,_a)=>+[del](,_a);



## end
#704, 444:
"""
结构转换:...
P代码(P函数):...

"""
+公式代入2(_表达式,_算式结构)->+[修改内容](+公式代入2,+[临时文本])->+[del](,+公式代入2)...
->的(公式代入2,P代码)->的(公式代入2,结构转换)...

->+[python](Python,)->+[code](+[python],P代码)...
->+[.]"text_fx"(+[python],_表达式)...
->+[o]"fx"(+[python],+fx)->+[o]"x"(+[python],+x1)...

->+[structure](compiler,+场景)->+[code](+[structure],结构转换)...
->+[.](+[structure],+fx)->+[del](,+fx)...
->+[.](+[structure],+x1)->+[del](,+x1)...
->+[.]"算式结构"(+[structure],_算式结构)


## end
#741, 17:
文档\S应用\公式分析器.ftxt
## end
#742, 3:
745
## end
#750, 3:
752
## end
#752, 492:
"""
+[P函数](,P代码)
记住"Python"
测试(P函数):...

"""

words=re.findall('%(\[[^\[^\]]*\])',pat)
pat=re.sub('%\[[^\[^\]]*\]',r"([\\s\\S]*)",pat)
name=re.search(pat,sent)
fun_name=name.group(1)
inputs=name.group(2).split(',')
exp_str=name.group(3)

code_s=""
code_m=""
for pt in inputs:
    code_s+="->的(输入,{0})".format(pt)
    code_m+="->+[.](+[matlab],{0})".format(pt)


code="""的({0},输入){1}...
->+[matlab]"{0}={2};"(Matlab,)...
->+[o](+[matlab],{0}){3};""".format(fun_name,code_s,exp_str,code_m)





## end
#754, 246:
"""
+[返回目录](,转述)
P代码:...
+[新建阅读窗口](,P代码)

"""

+转述(_输入,_输出)->+[del](,+转述)...
->的(转述,P代码)->匹配模板(+转述,_匹配模板)...
->+[python](Python,)->+[code](+[python],P代码)...
->+[.]"pat"(+[python],_匹配模板)->+[.]"sent"(+[python],_输入)...
->+[o]"code"(+[python],_输出)



## end
#755, 22:
^%[f]\(%[句子]\)=%[句子2]$
## end
#758, 38:

匹配模板::^%[f]\(%[句子]\)=%[句子2]$
转述:...


## end
#760, 3:
762
## end
#763, 275:

匹配模板::^将\(%[0]\)式记作\(%[序号]\)式$
输出模板::的([%[0]].,表达式#0):->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)...
    ->+[修改内容]#0([%[0]].,[%[序号]].)...
    ->+[修改内容]#1(表达式#0,表达式),
->+公式(+[%[序号]].,)->+的(+[%[序号]].,+表达式)...
    ->+[修改内容]#0([%[0]].,+[%[序号]].)...
    ->+[修改内容]#1(表达式#0,+表达式)



## end
#764, 3:
864
## end
#767, 234:
的([%[0]].,表达式#0):->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)...
    ->+[修改内容]#0([%[0]].,[%[序号]].)...
    ->+[修改内容]#1(表达式#0,表达式),
->+公式(+[%[序号]].,)->+的(+[%[序号]].,+表达式)...
    ->+[修改内容]#0([%[0]].,+[%[序号]].)...
    ->+[修改内容]#1(表达式#0,+表达式)
## end
#769, 24:
^将\(%[0]\)式记作\(%[序号]\)式$
## end
#771, 250:
"""


"""

+新建公式(_结构,_式子)->+[del](,+新建公式)...
->+公式(_式子,)->+的(_式子,+表达式)...

    ->+[修改内容]"LaTeX"(,记忆)...
    ->的(_结构,起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,_式子)...
    ->+[修改内容]"表达式"(,记忆)...
    ->+[算式](_c,+[修改内容]#1)->+[修改内容]#1(,+表达式)


## end
#774, 9:
(x+y)^{2}
## end
#776, 20:
\left(x+y\right)^{2}
## end
#777, 9:
(x+y)^{2}
## end
#782, 34:
\left(x+y\right)\ \left(x+y\right)
## end
#783, 11:
(x+y)*(x+y)
## end
#787, 145:


匹配模板::^将\(%[序号]\)式载入到%[结构]中$
输出模板::的([%[序号]].,表达式#2)...
->+[删除结构](,%[结构])->+[生成公式结构](表达式#2,%[结构])...
->+[转换公式结构](,%[结构])->+[更新公式起点](,%[结构])




## end
#789, 22:
^将\(%[序号]\)式载入到%[结构]中$
## end
#791, 104:
的([%[序号]].,表达式#2)...
->+[删除结构](,%[结构])->+[生成公式结构](表达式#2,%[结构])...
->+[转换公式结构](,%[结构])->+[更新公式起点](,%[结构])
## end
#795, 71:

匹配模板::^在%[公式]中, 代入\(%[1]\)式$
输出模板::的([%[1]].,表达式)->+[公式代入2](表达式,%[公式])
## end
#797, 22:
^在%[公式]中, 代入\(%[1]\)式$
## end
#799, 35:
的([%[1]].,表达式)->+[公式代入2](表达式,%[公式])
## end
#807, 142:
\left(a+\left(x+\left(x+y\right)\ \left(x+y\right)\right)^{2}+b\right)\ \left(a+\left(x+\left(x+y\right)\ \left(x+y\right)\right)^{2}+b\right)
## end
#808, 51:
(a+(x+(x+y)*(x+y))^{2}+b)*(a+(x+(x+y)*(x+y))^{2}+b)
## end
#813, 3:
850
## end
#838, 61:

ctrl+Up:...
ctrl+Down:...
ctrl+Down的"ctrl+Up"替换为"ctrl+Down"

## end
#840, 303:
"""
+[返回目录](,ctrl+Up)
+[新建阅读窗口](,ctrl+Up)

"""


+ctrl+Up(_编辑器,)->+[del](,+ctrl+Up)...
->_编辑器(_文件,)->的(_编辑器,m_readPtr)->m_readPtr(,表达式#0)...
->的(_公式,表达式#0)->[]{[]=>[is](_文件,_公式)}->+[显示](,_公式)...
->的(_目录,_公式)->[]{[]=>[is](_文件,_目录)}...
->[下一个](_目录,_公式)->是([下一个],_公式2)...
->的(_公式2,表达式)->+[编辑文本](_编辑器,表达式)


## end
#842, 408:
"""
+[返回目录](,ctrl+Down)
+[新建阅读窗口](,ctrl+Down)

"""


+ctrl+Down(_编辑器,)->+[del](,+ctrl+Down)...
->_编辑器(_文件,)->的(_编辑器,m_readPtr)->m_readPtr(,_节点):
    ->[is](_节点,表达式)...
        ->的(_公式,_节点)->[]{[]=>[is](_文件,_公式)}->+[显示](,_公式)...
        ->的(_目录,_公式)->[]{[]=>[is](_文件,_目录)}...
        ->[上一个](_目录,_公式)->是([上一个],_公式2)...
        ->的(_公式2,表达式#2)->+[编辑文本](_编辑器,表达式#2),

    ->的(_节点,表达式#0)->+[编辑文本](_编辑器,表达式#0)




## end
#843, 3:
864
## end
#846, 270:


匹配模板::^Nini, 在%[文件]中, 将%[节点]的\(%[序号]\)式载入到%[结构]中$
输出模板::的(记忆,扶桑)->的(扶桑,%[文件])->的(%[文件],目录)...
->记忆#1(目录,)->的(记忆#1,%[节点])->%[节点](,_节点)...
->的(_节点,[%[序号]].)...

->的([%[序号]].,表达式#2)...
->+[删除结构](,%[结构])->+[生成公式结构](表达式#2,%[结构])...
->+[转换公式结构](,%[结构])->+[更新公式起点](,%[结构])



## end
#848, 43:
^Nini, 在%[文件]中, 将%[节点]的\(%[序号]\)式载入到%[结构]中$
## end
#850, 209:
的(记忆,扶桑)->的(扶桑,%[文件])->的(%[文件],目录)...
->记忆#1(目录,)->的(记忆#1,%[节点])->%[节点](,_节点)...
->的(_节点,[%[序号]].)...

->的([%[序号]].,表达式#2)...
->+[删除结构](,%[结构])->+[生成公式结构](表达式#2,%[结构])...
->+[转换公式结构](,%[结构])->+[更新公式起点](,%[结构])
## end
#852, 258:

匹配模板::^更新\(%[序号]\)式$
输出模板::的([%[序号]].,表达式#2)...
->+[删除结构](,表达式#2)->+[生成公式结构](表达式#2,表达式#2)...
->+[转换公式结构](,表达式#2)->+[更新公式起点](,表达式#2);

+[修改内容]"LaTeX"(,记忆)->的([%[序号]].,表达式#2)...
    ->的(表达式#2,起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)




## end
#854, 14:
^更新\(%[序号]\)式$
## end
#856, 226:
的([%[序号]].,表达式#2)...
->+[删除结构](,表达式#2)->+[生成公式结构](表达式#2,表达式#2)...
->+[转换公式结构](,表达式#2)->+[更新公式起点](,表达式#2);

+[修改内容]"LaTeX"(,记忆)->的([%[序号]].,表达式#2)...
    ->的(表达式#2,起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)
## end
#858, 94:


匹配模板::^交换\(%[5]\)式和\(%[6]\)式$
输出模板::+[修改标题]"[%[5]]."(,[%[6]].)->+[修改标题]"[%[6]]."(,[%[5]].)


## end
#860, 23:
^交换\(%[5]\)式和\(%[6]\)式$
## end
#862, 54:
+[修改标题]"[%[5]]."(,[%[6]].)->+[修改标题]"[%[6]]."(,[%[5]].)
## end
#863, 3:
876
## end
#865, 3:
867
## end
#867, 346:
+[生成公式结构]"%[句子x]"(,+x)->+[描述公式]"结构转名词"(,+[做])->+[做](+x,+x)...
->+公式代入(记忆,+x);

的([%[1]].,表达式)...
->公式代入(记忆,x)->%[公式]=>的(%[公式],_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入](,_x)->[m_text](表达式,+[公式代入])->+场景(+[公式代入],%[公式])->+[del](,+场景),
->[];

公式代入(记忆,x)->+[del](,公式代入)->+[del](,x)=>的(x,_a)=>+[del](,_a);
## end
#868, 29:
^在%[公式]中, 将\(%[1]\)式代入%[句子x]$
## end
#871, 424:

匹配模板::^将\(%[1]\)式代换为%[公式]中的%[句子x]$
匹配模板::^在%[公式]中, 将\(%[1]\)式代入%[句子x]$
输出模板::+[生成公式结构]"%[句子x]"(,+x)->+[描述公式]"结构转名词"(,+[做])->+[做](+x,+x)...
->+公式代入(记忆,+x);

的([%[1]].,表达式)...
->公式代入(记忆,x)->%[公式]=>的(%[公式],_x)->_x=>[]:
->+[code]([想],x)->[想](_x,)->[]{[]=>的([想],_)->_=>+[del](,_)}...
    ->+[公式代入](,_x)->[m_text](表达式,+[公式代入])->+场景(+[公式代入],%[公式])->+[del](,+场景),
->[];

公式代入(记忆,x)->+[del](,公式代入)->+[del](,x)=>的(x,_a)=>+[del](,_a);
## end
#873, 3:
888
## end
#875, 133:
"""


"""

+[生成公式结构](表达式,+公式结构);
公式结构->主场景=>的(公式结构,_)=>+的(主场景,_);
[公式头](公式结构,)->是([公式头],_)->+的#0(x,_)->+的(主场景,+的#0);

+[del](,+公式结构)

## end
#877, 369:
"""
结构转换:...

"""
+公式代入(_表达式,_x)->+[修改内容](+公式代入,+[临时文本])->+[del](,+公式代入)...
->的(公式代入,结构转换)...

->场景(+公式代入,_主场景)...

->+[structure](compiler,+场景)->+[code](+[structure],结构转换)...
->+[.]"x"(+[structure],_x)->+[.]"主场景"(+[structure],_主场景)...
->+[修改标题]"括号"(,_x)->+[拆括号](_主场景,_x)->+[del](,+场景):
    ->_表达式->+[.]"表达式"(+[structure],_表达式),
    ->+[.]"表达式"(+[structure],+[临时文本])



## end
#880, 119:
"""
记住"Python"
+[P函数](,P代码)

"""

ele_list=text_fx.split('=')
print(text_fx.split('='))
fx=ele_list[0]
x=ele_list[-1]


## end
#882, 22:
^将"%[句子]"记作\(%[序号]\)式$
## end
#883, 357:
[]:
    ->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)->+[修改内容]"%[句子]"(,表达式),
    ->+公式(+[%[序号]].,)->+的(+[%[序号]].,+表达式)->+表达式"%[句子]";

的([%[序号]].,表达式#2)...
->+[删除结构](,表达式#2)->+[生成公式结构](表达式#2,表达式#2)...
->+[转换公式结构](,表达式#2)->+[更新公式起点](,表达式#2);

+[修改内容]"LaTeX"(,记忆)->的([%[序号]].,表达式#2)...
    ->的(表达式#2,起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)
## end
#886, 396:

匹配模板::^将"%[句子]"记作\(%[序号]\)式$
输出模板::[]:
    ->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)->+[修改内容]"%[句子]"(,表达式),
    ->+公式(+[%[序号]].,)->+的(+[%[序号]].,+表达式)->+表达式"%[句子]";

的([%[序号]].,表达式#2)...
->+[删除结构](,表达式#2)->+[生成公式结构](表达式#2,表达式#2)...
->+[转换公式结构](,表达式#2)->+[更新公式起点](,表达式#2);

+[修改内容]"LaTeX"(,记忆)->的([%[序号]].,表达式#2)...
    ->的(表达式#2,起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)



## end
#889, 59:

匹配模板::^复制\(%[0]\)式$
输出模板::的([%[0]].,表达式)->+[复制内容](,表达式)



## end
#891, 13:
^复制\(%[0]\)式$
## end
#893, 29:
的([%[0]].,表达式)->+[复制内容](,表达式)
## end
#894, 259:
%[结构]:->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)...
    ->+[修改内容]"LaTeX"(,记忆)...
    ->的(%[结构],起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)...
    ->+[修改内容]"表达式"(,记忆)...
    ->+[算式](_c,+[修改内容]#1)->+[修改内容]#1(,表达式),
->+[新建公式](%[结构],+[%[序号]].)
## end
#895, 20:
^将%[结构]记作\(%[序号]\)式$
## end
#898, 296:

匹配模板::^将%[结构]记作\(%[序号]\)式$
输出模板::%[结构]:->[%[序号]].->公式([%[序号]].,)->的([%[序号]].,表达式)...
    ->+[修改内容]"LaTeX"(,记忆)...
    ->的(%[结构],起点)->起点(,_c)...
    ->+[算式](_c,+[修改内容]#0)->+[修改内容]#0(,[%[序号]].)...
    ->+[修改内容]"表达式"(,记忆)...
    ->+[算式](_c,+[修改内容]#1)->+[修改内容]#1(,表达式),
->+[新建公式](%[结构],+[%[序号]].)



## end
#900, 3:
902
## end
#902, 3:
907
## end
#904, 3:
906
## end
#906, 3:
908
## end
#910, 3:
912
## end
#912, 3:
914
## end
#914, 3:
917
## end
### 结束